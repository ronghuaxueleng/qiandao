[{"comment":"获取必要hash","request":{"method":"GET","url":"https://bbs.77169.net/member.php?mod=logging&action=login","headers":[{"name":"Host","value":"bbs.77169.net"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"DNT","value":"1"},{"name":"Connection","value":"keep-alive"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"re":"name=\"formhash\" value=\"(.+)\"","from":"content","name":"formhash0"},{"re":"loginhash=(.+)\"","from":"content","name":"loginhash"}]}},{"comment":"登陆","request":{"method":"POST","url":"https://bbs.77169.net/member.php?mod=logging&action=login&loginsubmit=yes&loginhash={{loginhash|urlencode}}&inajax=1","headers":[{"name":"Host","value":"bbs.77169.net"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Content-Type","value":"application/x-www-form-urlencoded"},{"name":"Origin","value":"https://bbs.77169.net"},{"name":"DNT","value":"1"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"https://bbs.77169.net/member.php?mod=logging&action=login"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}],"cookies":[],"data":"formhash={{formhash0|urlencode}}&referer=https%3A%2F%2Fbbs.77169.net%2Fplugin.php%3Fid%3Ddsu_paulsign%3Asign&loginfield=username&username={{ username |urlencode}}&password={{ password |urlencode}}&questionid=0&answer=&cookietime=2592000","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"error","from":"content"}],"extract_variables":[]}},{"comment":"判断登陆是否成功","request":{"method":"GET","url":"https://bbs.77169.net/plugin.php?id=dsu_paulsign%3Asign","headers":[{"name":"Host","value":"bbs.77169.net"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"DNT","value":"1"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"https://bbs.77169.net/member.php?mod=logging&action=login"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"您需要先登录才能继续本操作","from":"content"}],"extract_variables":[{"re":"name=\"formhash\" value=\"(.+)\"","from":"content","name":"formhash1"}]}},{"comment":"签到请求","request":{"method":"POST","url":"https://bbs.77169.net/plugin.php?id=dsu_paulsign%3Asign&operation=qiandao&infloat=1&inajax=1","headers":[{"name":"Host","value":"bbs.77169.net"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"Content-Type","value":"application/x-www-form-urlencoded"},{"name":"Origin","value":"https://bbs.77169.net"},{"name":"DNT","value":"1"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"https://bbs.77169.net/plugin.php?id=dsu_paulsign:sign"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}],"cookies":[],"data":"formhash={{formhash1|urlencode}}&qdxq=kx&qdmode=1&todaysay=%E5%BC%80%E5%BF%83%E5%BC%80%E5%BF%83%EF%BC%81%EF%BC%81%EF%BC%81&fastreply=0","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"判断签到成功+获取积分","request":{"method":"GET","url":"https://bbs.77169.net/plugin.php?id=dsu_paulsign%3Asign","headers":[{"name":"Host","value":"bbs.77169.net"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:85.0) Gecko/20100101 Firefox/85.0"},{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"},{"name":"Accept-Language","value":"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2"},{"name":"Accept-Encoding","value":"gzip, deflate, br"},{"name":"DNT","value":"1"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"https://bbs.77169.net/plugin.php?id=dsu_paulsign:sign"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"Pragma","value":"no-cache"},{"name":"Cache-Control","value":"no-cache"}],"cookies":[],"data":"","mimeType":""},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[{"re":"今天签到了吗？","from":"content"}],"extract_variables":[{"re":"<font color=\"#ff00cc\"><b>(.+?)</b></font>","from":"content","name":"log_value"}]}},{"comment":"生成日志","request":{"method":"GET","url":"http://localhost/util/string/replace?r=text&p=&s=%E6%82%A8%E7%9B%AE%E5%89%8D%E8%8E%B7%E5%BE%97%E7%9A%84%E6%80%BB%E5%A5%96%E5%8A%B1%E4%B8%BA%3A%E9%87%91%E9%92%B1%20{{log_value|urlencode}}&t=","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"re":".+","from":"content","name":"__log__"}]}}]