[{"comment":"获取authenticity_token","request":{"method":"GET","url":"https://www.geekhub.com/users/sign_in","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"authenticity_token","re":"name=\"csrf-token\" content=\"(.+)\"","from":"content"}]}},{"comment":"获取Base64验证码图片","request":{"method":"GET","url":"https://www.geekhub.com/rucaptcha","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"base64IMG","re":".+","from":"content"}]}},{"comment":"OCR识别","request":{"method":"POST","url":"api://util/dddd/ocr","headers":[{"name":"Content-Type","value":"application/json"}],"cookies":[],"data":"{\"img\":\"{{base64IMG}}\",\"imgurl\":\"\",\"old\":\"True\"}"},"rule":{"success_asserts":[{"re":"200","from":"status"},{"re":"\"状态\": \"OK\"","from":"content"}],"failed_asserts":[],"extract_variables":[{"name":"captcha","re":"\"Result\": \"(.*)\"","from":"content"}]}},{"comment":"登录","request":{"method":"POST","url":"https://www.geekhub.com/users/sign_in","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"origin","value":"https://www.geekhub.com"},{"name":"content-type","value":"application/x-www-form-urlencoded"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.geekhub.com/users/sign_in"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"authenticity_token={{authenticity_token|urlencode}}&user%5Blogin%5D={{username|urlencode}}&user%5Bpassword%5D={{password|urlencode}}&_rucaptcha={{captcha|urlencode}}&user%5Bremember_me%5D=on","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"302","from":"status"}],"failed_asserts":[{"re":"https://www.geekhub.com/users/sign_in","from":"header-location"}],"extract_variables":[]}},{"request":{"method":"GET","url":"https://www.geekhub.com/","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.geekhub.com/users/sign_in"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"签到页，获取authenticity_token","request":{"method":"GET","url":"https://www.geekhub.com/checkins","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"accept","value":"text/html, application/xhtml+xml"},{"name":"turbolinks-referrer","value":"https://www.geekhub.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"referer","value":"https://www.geekhub.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"authenticity_token","re":"name=\"csrf-token\" content=\"(.+?)\"","from":"content"}]}},{"comment":"签到","request":{"method":"POST","url":"https://www.geekhub.com/checkins/start","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"upgrade-insecure-requests","value":"1"},{"name":"origin","value":"https://www.geekhub.com"},{"name":"content-type","value":"application/x-www-form-urlencoded"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},{"name":"referer","value":"https://www.geekhub.com/checkins"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[],"data":"_method=post&authenticity_token={{authenticity_token|urlencode}}","mimeType":"application/x-www-form-urlencoded"},"rule":{"success_asserts":[{"re":"302","from":"status"}],"failed_asserts":[],"extract_variables":[]}},{"comment":"用户页","request":{"method":"GET","url":"https://www.geekhub.com/u/{{username|urlencode }}","headers":[{"name":"pragma","value":"no-cache"},{"name":"cache-control","value":"no-cache"},{"name":"accept","value":"text/html, application/xhtml+xml"},{"name":"turbolinks-referrer","value":"https://www.geekhub.com/"},{"name":"user-agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.82 Safari/537.36"},{"name":"referer","value":"https://www.geekhub.com/"},{"name":"accept-encoding","value":"gzip, deflate, br"},{"name":"accept-language","value":"zh-CN,zh;q=0.9,en;q=0.8"}],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"qz","re":"权重[\\W\\w]*<span class=\"flex-1\">(\\d+)</span[\\W\\w]*Star","from":"content"},{"name":"star","re":"Star</span>[\\W\\w]+<span class=\"flex-1\">(\\d+)[\\W\\w]*Gbit[\\W\\w]+Medal","from":"content"},{"name":"gbit","re":"Gbit[\\W\\w]*<span class=\"flex-1\">(.+)</span[\\W\\w]*Medal","from":"content"}]}},{"comment":"日志","request":{"method":"GET","url":"api://util/string/replace?r=text&t=%C2%A0&p=%C2%A0&s=%E6%9D%83%E9%87%8D%EF%BC%9A%E3%80%90{{qz|urlencode}}%E3%80%91%EF%BC%8CStar%EF%BC%9A%E3%80%90{{star|urlencode}}%E3%80%91%EF%BC%8CGBit%EF%BC%9A%E3%80%90{{gbit|urlencode}}%E3%80%91","headers":[],"cookies":[]},"rule":{"success_asserts":[{"re":"200","from":"status"}],"failed_asserts":[],"extract_variables":[{"name":"__log__","re":".+","from":"content"}]}}]